{% load avatar_tags %}
{% load markdown %}
<div id="{{argument.unique_id}}" class="argument container argument-{{argument.type}}">
	<div class="row">
		<div class="col-2 text-center">
			<i class="argument-type-icon material-icons">{{argument.icon}}</i> <br/> {{argument.type|upper}}
	    </div>
	    <div class="col-10">
		    {% if argument.title%}{{argument.title}}{% else %}{{argument.text|markdown}}{% endif %}
		</div>
	</div>
	<div class="row">
    	<div class="col-2">
    	</div>

    	<div class="col-10">
			
		    <div class="row argument-meta">
				<div class="col-8">
					weniger anzeigen
				</div>
				<div class="col-4 text-right">
		    		<i class="material-icons">{% if argument.has_liked %}favorite{% else %}favorite_border{% endif %}</i> {{argument.likes.count}} <i class="material-icons">chat_bubble_outline</i> {{argument.comments.count}}<br />
				</div>
			</div>
			<div class="row">
				<div class="col-2 text-center author">
					{% avatar argument.user 55 class="avatar" %}
				</div>
				<div class="col-auto">
					<span class="author-name">{{argument.user.get_full_name|default:argument.user.username}}</span>
					<span class="arg-meta">{{argument.created_at|timesince}}</span>
				</div>
			</div>
	    	{% if argument.title%}
	    	<!-- proposals don't have titles -->
				<div class="argument-text">
					{{argument.text|markdown}}
				</div>
			{% endif %}

			<div class="argument-actions">
			    	{% include 'fragments/like.html' with has_liked=argument.has_liked target=argument show_text=1 show_count=0 %}

			</div>

			<h3>Kommentare</h3>
			<div id="{{argument.unique_id}}-comment-list" class="argument-comment-list">
			    {% for comment in comments %}
			    	{% include 'fragments/comment/item.html' %}
			    {% empty %}
			    	<p><i>Bisher nicht kommentiert worden.</i></p>
			    {% endfor %}
			</div>

			<div id="{{argument.unique_id}}-new-comment">
		    	<a data-ajax="true" href="/comment/{{argument.type}}/{{argument.id}}?fragment=%23{{argument.unique_id}}-new-comment"><i class="material-icons">chat_bubble_outline</i> Kommentieren</a>
		    </div>
		</div>
    </div>
	
</div>
</div>